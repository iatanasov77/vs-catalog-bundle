services:
    _defaults:
        public: true
        
    ##############################################################################
    # Promotion Applicators
    ##############################################################################
    Vankosoft\CatalogBundle\Component\Distributor\MinimumPriceDistributorInterface:
        class: Vankosoft\CatalogBundle\Component\Distributor\MinimumPriceDistributor
        arguments:
            - '@vs_payment.proportional_integer_distributor'
    
    ##############################################################################
    # Promotion Rule Form Types
    ##############################################################################
    vs_catalog.form.type.promotion_rule.contains_product_configuration:
        class: Vankosoft\CatalogBundle\Form\Type\Rule\ContainsProductConfigurationType
        arguments:
            - '@vs_catalog.repository.product'
        tags:
            - { name: form.type }
    
    ##############################################################################
    # Promotion Rules
    ##############################################################################
    sylius.promotion_rule_checker.contains_product:
        class: Vankosoft\CatalogBundle\Component\Promotion\RuleChecker\ContainsProductRuleChecker
        tags:
            sylius.promotion_rule_checker:
                name: 'sylius.promotion_rule_checker'
                type: 'contains_product'
                label: 'sylius.form.promotion_rule.contains_product'
                form_type: 'Vankosoft\CatalogBundle\Form\Type\Rule\ContainsProductConfigurationType'


